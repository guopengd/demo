(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2160","c64d"],{1754:function(e,t,r){"use strict";var a=r("c176"),n=r.n(a);n.a},a7be:function(e,t,r){},c176:function(e,t,r){},c64d:function(e,t,r){"use strict";r.r(t);r("a481");t["default"]=function(e){(function(t){t(e)})(function(e){function t(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function r(e){t(e);var r=e.state.placeholder=document.createElement("pre");r.style.cssText="height: 0; overflow: visible; color: #80848f;",r.style.direction=e.getOption("direction"),r.className="CodeMirror-placeholder";var a=e.getOption("placeholder");"string"===typeof a&&(a=document.createTextNode(a)),r.appendChild(a),e.display.lineSpace.insertBefore(r,e.display.lineSpace.firstChild)}function a(e){i(e)&&r(e)}function n(e){var a=e.getWrapperElement(),n=i(e);a.className=a.className.replace(" CodeMirror-empty","")+(n?" CodeMirror-empty":""),n?r(e):t(e)}function i(e){return 1===e.lineCount()&&""===e.getLine(0)}e.defineOption("placeholder","",function(r,i,o){var s=o&&o!==e.Init;if(i&&!s)r.on("blur",a),r.on("change",n),r.on("swapDoc",n),n(r);else if(!i&&s){r.off("blur",a),r.off("change",n),r.off("swapDoc",n),t(r);var c=r.getWrapperElement();c.className=c.className.replace(" CodeMirror-empty","")}i&&!r.hasFocus()&&a(r)})})}},e88b:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"paste-editor-wrapper"},[r("textarea",{ref:"codemirror",staticClass:"textarea-el"})])},n=[],i=(r("28a5"),r("56b3")),o=r.n(i),s=(r("a7be"),r("90de")),c=r("c64d"),l={name:"PasteEditor",props:{value:Array,pasteData:{type:String,default:""},placeholder:{type:String,default:"从网页或其他应用软件复制表格数据，粘贴到这里 。默认第一行是表头，使用回车键添加新行，使用Tab键区分列。"}},data:function(){return{pasteDataArr:[],rowArrLength:0,editor:null}},watch:{pasteData:function(e){""===e&&this.editor.setValue("")}},computed:{rowNum:function(){return this.pasteDataArr.length},colNum:function(){return this.pasteDataArr[0]?this.pasteDataArr[0].length:0}},methods:{handleKeyup:function(e){this.handleAreaData()},handleContentChanged:function(e){var t=e.trim();this.$emit("on-content-change",t);var r=t.split(/[\n\u0085\u2028\u2029]|\r\n?/g).map(function(e){return e.split("\t")});""===e&&(r=[]),this.pasteDataArr=r,this.clearLineClass(),this.checkColNumInEveryRow(),this.$emit("input",this.pasteDataArr)},checkColNumInEveryRow:function(){var e=0,t=this.rowNum;if(0!==t){while(++e<t){var r=this.pasteDataArr[e];if(r.length!==this.colNum&&(e!==t-1||1!==r.length||""!==r[0]||e!==t-1))return this.markIncorrectRow(e),this.$emit("on-error",e),!1}return this.$emit("on-success",this.pasteDataArr),!0}},markIncorrectRow:function(e){this.editor.addLineClass(e,"text","incorrect-row")},clearLineClass:function(){var e=this;Object(s["forEach"])(this.pasteDataArr,function(t,r){e.editor.removeLineClass(r,"text","incorrect-row")})}},mounted:function(){var e=this;Object(c["default"])(o.a),this.editor=o.a.fromTextArea(this.$refs.codemirror,{lineNumbers:!0,tabSize:1,lineWrapping:!0,placeholder:this.placeholder}),this.editor.on("change",function(t){e.handleContentChanged(t.getValue())}),this.editor.addLineClass(0,"text","first-row")}},u=l,h=(r("1754"),r("2877")),p=Object(h["a"])(u,a,n,!1,null,null,null);p.options.__file="paste-editor.vue";t["default"]=p.exports}}]);