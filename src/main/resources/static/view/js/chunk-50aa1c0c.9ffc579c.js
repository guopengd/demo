(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50aa1c0c","chunk-39afff4b","chunk-2d0d69a2","chunk-2d22d594"],{1919:function(e,t,r){},"33e3":function(e,t,r){"use strict";r.r(t);var o=r("72f7");t["default"]=o["default"]},"4b4f":function(e,t,r){"use strict";var o=r("8df5"),a=r.n(o);a.a},"6c04":function(e,t,r){"use strict";var o=r("1919"),a=r.n(o);a.a},"72f7":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit(t)}}},[r("FormItem",{attrs:{prop:"userName"}},[r("Input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:16,type:"ios-person"}})],1)])],1),r("FormItem",{attrs:{prop:"password"}},[r("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),r("FormItem",{attrs:{prop:"code"}},[r("Input",{staticStyle:{width:"180px",float:"left"},attrs:{placeholder:"请输入验证码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{type:"logo-codepen"}})],1)]),e._v("    \n    "),r("img",{attrs:{src:e.image,width:"70px"},on:{click:e.verifyCode}})],1),r("FormItem",[r("Button",{attrs:{type:"primary",long:""},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)},a=[],s=r("c24f"),n={name:"LoginForm",props:{userNameRules:{type:Array,default:function(){return[{required:!0,min:6,message:"账号不能为空且不低于6位数",trigger:"blur"}]}},passwordRules:{type:Array,default:function(){return[{required:!0,min:6,message:"密码不能为空且不低于6位数",trigger:"blur"}]}},codeRules:{type:Array,default:function(){return[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},data:function(){return{image:{},uuid:"null",form:{userName:"admin1",password:"123456",code:""}}},computed:{rules:function(){return{userName:this.userNameRules,password:this.passwordRules,code:this.codeRules}}},methods:{handleSubmit:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&e.$emit("on-success-valid",{userName:e.form.userName,password:e.form.password,code:e.form.code,uuid:e.uuid})})},verifyCode:function(){var e=this;Object(s["createCode"])(this.uuid).then(function(t){e.image="data:img/jpg;base64,"+t.data.image,e.uuid=t.data.uuid})}},mounted:function(){this.verifyCode(this.uuid)}},i=n,u=r("2877"),l=Object(u["a"])(i,o,a,!1,null,null,null);t["default"]=l.exports},"8df5":function(e,t,r){},e49c:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[r("div",{staticClass:"login-con"},[r("Card",{attrs:{icon:"log-in",title:"欢迎登录",bordered:!1}},[r("div",{staticClass:"form-con"},[r("login-form",{on:{"on-success-valid":e.handleSubmit}}),r("div",{staticStyle:{"text-align":"right"}},[r("a",{staticClass:"login-tip",on:{click:e.rePassword}},[e._v("忘记密码   ")]),r("a",{staticClass:"login-tip",on:{click:e.openCreateForm}},[e._v("免费注册   ")])])],1),r("Modal",{directives:[{name:"draggable",rawName:"v-draggable",value:e.options,expression:"options"}],attrs:{title:"账号注册",width:"600"}}),r("Modal",{directives:[{name:"draggable",rawName:"v-draggable",value:e.options,expression:"options"}],attrs:{"mask-closable":!1,title:"账号注册",width:"600"},model:{value:e.createCustomer,callback:function(t){e.createCustomer=t},expression:"createCustomer"}},[r("div",{staticClass:"form-con"},[r("p",{staticStyle:{"text-align":"center","font-size":"20px",height:"60px"}},[e._v("欢迎注册我也不知道想做啥系统")]),r("Form",{ref:"createForm",staticStyle:{width:"60%",margin:"0 auto"},attrs:{model:e.createForm,rules:e.rules,"label-width":80},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleCreate(t)}}},[r("FormItem",{attrs:{prop:"userName",label:"账号"}},[r("Input",{attrs:{placeholder:"请输入账号"},model:{value:e.createForm.userName,callback:function(t){e.$set(e.createForm,"userName",t)},expression:"createForm.userName"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:16,type:"ios-person"}})],1)])],1),r("FormItem",{attrs:{prop:"password",label:"密码"}},[r("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.createForm.password,callback:function(t){e.$set(e.createForm,"password",t)},expression:"createForm.password"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),r("FormItem",{attrs:{prop:"validPassword",label:"确认密码"}},[r("Input",{attrs:{type:"password",placeholder:"请重新输入密码"},model:{value:e.createForm.validPassword,callback:function(t){e.$set(e.createForm,"validPassword",t)},expression:"createForm.validPassword"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),r("FormItem",{attrs:{prop:"email",label:"邮箱"}},[r("Input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.createForm.email,callback:function(t){e.$set(e.createForm,"email",t)},expression:"createForm.email"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:16,type:"md-mail"}})],1)])],1),r("FormItem",{attrs:{prop:"phone",label:"手机号"}},[r("Input",{attrs:{placeholder:"请输入手机号"},model:{value:e.createForm.phone,callback:function(t){e.$set(e.createForm,"phone",t)},expression:"createForm.phone"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{size:16,type:"ios-call"}})],1)])],1),r("FormItem",{attrs:{prop:"code"}},[r("Input",{staticStyle:{width:"180px",float:"left"},attrs:{placeholder:"请输入验证码"},model:{value:e.createForm.code,callback:function(t){e.$set(e.createForm,"code",t)},expression:"createForm.code"}},[r("span",{attrs:{slot:"prepend"},slot:"prepend"},[r("Icon",{attrs:{type:"logo-codepen"}})],1)]),e._v("  \n              "),r("img",{attrs:{src:e.image,width:"70px"},on:{click:e.verifyCode}})],1)],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("Button",{attrs:{size:"large",type:"primary",loading:e.loading,long:""},on:{click:e.handleCreate}},[e._v("注册")])],1)])],1)],1)])},a=[],s=r("cebc"),n=r("33e3"),i=r("2f62"),u=r("f6b0"),l=r("c24f"),d={components:{LoginForm:n["default"]},data:function(){var e=this,t=function(t,r,o){r!==e.createForm.password?o(new Error("两次输入的密码不一致")):o()};return{options:{trigger:".ivu-modal-header",body:".ivu-modal",recover:!0},createCustomer:!1,createForm:{},loading:!1,image:{},uuid:"null",code:"",rules:{userName:[{required:!0,min:6,message:"请输入账号，账号长度不低于6位数",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"},{type:"string",min:6,message:"密码长度不能低于6位数",trigger:"blur"}],validPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{type:"string",min:6,message:"确认密码长度不能低于6位数",trigger:"blur"},{validator:t,message:"密码不一致",trigger:"blur"}],email:[{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{pattern:/^1\d{10}$/,message:"请输入正确的手机号",trigger:"blur"}],code:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}}},methods:Object(s["a"])({},Object(i["b"])(["handleLogin","getUserInfo"]),{verifyCode:function(){var e=this;Object(l["createCode"])(this.uuid).then(function(t){e.image="data:img/jpg;base64,"+t.data.image,e.uuid=t.data.uuid})},handleSubmit:function(e){var t=this,r=e.userName,o=e.password,a=e.code,s=e.uuid;this.handleSpin(),this.handleLogin({userName:r,password:o,code:a,uuid:s}).then(function(e){e.data.token&&t.$router.push({name:t.$config.homeName})}).then(function(){return t.$Spin.hide()}).catch(function(){return t.$Spin.hide()})},openCreateForm:function(){this.verifyCode(this.uuid),this.$refs.createForm.resetFields(),this.createCustomer=!0},handleCreate:function(){var e=this;this.$refs.createForm.validate(function(t){t&&(e.loading=!0,e.createForm.uuid=e.uuid,Object(u["addCustomer"])(e.createForm).then(function(t){e.loading=!1,e.createCustomer=!1}).catch(function(){e.$Spin.hide()}))})},rePassword:function(){this.$Message.info("不好意思，此功能我没做")},handleSpin:function(){this.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:18}}),e("div","Loading")])}})}})},c=d,m=(r("4b4f"),r("6c04"),r("2877")),p=Object(m["a"])(c,o,a,!1,null,null,null);t["default"]=p.exports},f6b0:function(e,t,r){"use strict";r.r(t),r.d(t,"listCustomer",function(){return a}),r.d(t,"queryCustomer",function(){return s}),r.d(t,"addCustomer",function(){return n}),r.d(t,"deleteCustomer",function(){return i}),r.d(t,"updateCustomer",function(){return u}),r.d(t,"getAuthorization",function(){return l});var o=r("66df"),a=function(e){return o["default"].request({url:"sys/customer/list",data:e,method:"post"})},s=function(e){return o["default"].request({url:"sys/customer/"+e,method:"get"})},n=function(e){return o["default"].request({url:"sys/customer",data:e,method:"post"})},i=function(e){return o["default"].request({url:"sys/customer/"+e,method:"delete"})},u=function(e){return o["default"].request({url:"sys/customer",data:e,method:"put"})},l=function(e){return o["default"].request({url:"sys/authorization/"+e,method:"get"})}}}]);